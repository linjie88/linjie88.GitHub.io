---
layout: post
title: 笔试题
date: 2021-3-16
categories: blog
tags: [标签一,标签二]
description: 学习总结
---

### 考虑设计一个用户登陆模块时，从安全角度出发，应该注意哪些问题，给出解决方案。  


### 在浏览器中输入www.baidu.com 到页面返回内容中间经历了哪些东西？  

1. 客户端获取客户输入的域名
2. 浏览器将域名发送给dns域名系统，请求解析
3. dns域名系统获取该域名的IP地址并发送给浏览器
4. 浏览器根据该IP地址向服务器发送tcp三次握手，建立tcp连接
5. 客户端浏览器向服务器发送http请求，请求获取百度首页  
6. 服务器通过http响应向客户端浏览器返回百度首页
7. 进行tcp四次挥手释放tcp连接
8. 浏览器解析html文件，根据文件内容获取css，js等资源文件，并将页面渲染给用户


### 说说对sql injection的理解  
sql注入的本质，是把用户输入的数据当作代码执行。其中有两个关键条件：
- 用户能够控制输入
- 原本程序要执行的代码，拼接了用户输入的数据




### 列举进行sql injection时绕过waf或sql防注入系统的方法  
**WAF:**Web应用防火墙，功能用于过滤某些恶意请求与某些关键字
工作原理：
- 检测异常协议，拒绝不符合http标准的请求
- 增强型的输入验证：代理和服务器端验证，而不仅仅是客户端验证
- 白名单和黑名单
- 基于规则和异常的保护：基于规则的更多是基于黑色的机制和更灵活的异常
- 状态管理：防御会话保护（cookie保护，反入侵规避技术，响应监控和信息披露保护）

绕过方法：
1. 混合的casechange恶意输入会出发WAF保护，如果waf使用区分大小写的黑名单，则更改大小写可能会绕过
2. 替换关键字（插入将被WAF删除的特殊字符）
3. 编码
    - 十六进制编码
    - Unicode编码
4. 在攻击字符串中使用注释-----插入注释。
5. 等效函数和命令
6. 特殊符号-----特殊符号具有特殊的含义和用法
7. HTTP参数污染------提供多个parameter= value的值集来混淆绕过WAF  
8. 缓冲区溢出

### sql注入的原理是什么，什么是宽字节注入
sql注入的本质，是把用户输入的数据当作代码执行。其中有两个关键条件：
- 用户能够控制输入
- 原本程序要执行的代码，拼接了用户输入的数据
**宽字节注入：**宽字节注入原理即是利用编码转换，将服务器端强制添加的本来用于转义的\符号吃掉，从而能使攻击者输入的引号起到闭合作用，以至于可以进行SQL注入。  


### 什么是xss漏洞，它和csrf的区别是什么

**xss攻击（跨域脚本攻击）：**xss攻击，通常指黑客通过“html注入”篡改了网页，插入了恶意脚本，从而在用户浏览网页时，控制用户浏览器的一种攻击。   
**xss漏洞：**开发者对用户的输入没有进行处理，导致黑客可以通过“html”注入实现插入恶意脚本，控制用户浏览器的目的  
**csrf（跨站点请求伪造）：**不需要你做任何的登录认证，攻击者会通过合法的操作（比如在url中输入、在评论框中输入），向你的页面注入脚本（可能是js、hmtl代码块等）。

#### csrf攻击原理
1. 用户通过浏览器访问可信任网站a
2. 用户验证通过，网站a在用户处产生cookie
3. 用户在没有登出网站a的情况下访问危险网站b
4. b要求访问第三方网站a，并发送一个request
5. 根据b的请求，浏览器带着a的cookie访问a
6. 由于a并不知道该访问请求到底是用户发出的还是b发出的，因为是带着用户的cookie来的，所以会给予用户的权限。

**区别：**
- csrf需要用户先登陆网站a，获取cookie。而xss不需要登陆
- csrf是利用网站本身的漏洞，去请求网站a的API。而xss则是向网站a注入js代码，然后执行js里的代码，篡改网站a的内容。

### 某企业遭受大流量DDOS攻击，但运维无法快速识别哪些是攻击源，设计一套方案快速识别攻击源

### 给定一个二叉树，求出任意两个节点相邻的父节点

### PKI的核心组成，部分及应用实例

### http和https有什么差别，https防止了什么攻击

### Linux系统中存有用户账号和密码的文件分别是什么，默认权限是多少。

### 权限设计中可能存在的问题

### 入侵检测主要分为哪三个部分，入侵检测与防火墙哪个在外面，为什么？


### 阐述完整的XSS蠕虫攻击流程

### XSS入侵成功会有什么危害

